(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{mvRI:function(e,t,n){"use strict";n.r(t);var o=n("SVse"),r=n("iInd"),a=n("rbVQ"),c=n("CqYc"),s=n("u+Mh"),i=n("OuSF"),l=n("d7Ac"),d=n("8Y7J"),u=n("TSSN"),p=[1,"contentBox","contentBox__alignment--centerCenter"],h=[1,"clockLoader"],b=[1,"clockLoader__center"],f=[1,"clockLoader__numeral"],_=[1,"clockLoader__numeral","clockLoader__numeral--horizontal"],m=[1,"clockLoader__numeral","clockLoader__numeral--lateralRight"],g=[1,"clockLoader__numeral","clockLoader__numeral--lateralLeft"],v=[1,"text__color--primary","text__align--center"],w=[1,"text__align--center"];class C{constructor(e,t,n,o,r,a,c,s){this.router=e,this.route=t,this.auth=n,this.cripto=o,this.workflow=r,this.guard=a,this.obser=c,this.translate=s,this.otp=this.route.snapshot.paramMap.get("otp"),this.translate.setDefaultLang("es-CR")}ngOnInit(){this.auth.deleteAllTokenData(),this.auth.authenticate(this.otp).subscribe(e=>{if(e.state!==l.q){const t=this.auth.decodeToken(e.access_token);this.cripto.getKeysRemote().then(n=>{this.cripto.keyCreator().then(n=>{console.log(t),this.auth.saveTokenData(e,t.sub,this.saveLocalStorage(t.product)),this.translate.use(t.lenguaje),console.error("Hay comentarios que se deben revisar en este componente, no borrar hasta solucionar."),this.guard.sendData(t.product,l.o),this.workflow.workflow(l.f,{llaveEncriptacion:JSON.stringify(n)})})})}else this.router.navigate(["/forbidden"])})}saveLocalStorage(e){switch(e){case"CAM_CO":case"TMA_CO":return!0;case"BIO_CO":return!1;default:return!0}}}C.ngComponentDef=d.W({type:C,selectors:[["app-initial"]],factory:function(e){return new(e||C)(d.Y(r.c),d.Y(r.a),d.Y(a.a),d.Y(c.a),d.Y(s.a),d.Y(i.a),d.Y(i.a),d.Y(u.c))},consts:13,vars:0,template:function(e,t){1&e&&(d.eb(0,"div",p),d.eb(1,"div",h),d.eb(2,"span",b),d.cb(),d.eb(3,"span",f),d.cb(),d.eb(4,"span",_),d.cb(),d.eb(5,"span",m),d.cb(),d.eb(6,"span",g),d.cb(),d.cb(),d.eb(7,"h2",v),d.vb(8," Conectando "),d.cb(),d.eb(9,"h3",w),d.vb(10," Por favor espera "),d.Z(11,"br"),d.Z(12,"br"),d.cb(),d.cb())},encapsulation:2});const k=[r.d.forChild([{path:":otp",component:C}])];class y{}y.ngInjectorDef=d.I({factory:function(){return new y},providers:void 0,imports:[k,[r.d]]});class I{}I.ngInjectorDef=d.I({factory:function(){return new I},providers:[s.a],imports:[[o.b,y]]});var L=[1,"contentBox","contentBox__alignment--centerCenter"],x=[1,"contentBox__icon","icon-forbiden","text__color--primary","text__align--center"],D=[1,"text__color--primary","text__align--center"],S=[1,"text__align--center"];class Y{constructor(){}ngOnInit(){localStorage.clear(),sessionStorage.clear()}}Y.ngComponentDef=d.W({type:Y,selectors:[["app-forbidden"]],factory:function(e){return new(e||Y)},consts:6,vars:0,template:function(e,t){1&e&&(d.eb(0,"div",L),d.eb(1,"span",x),d.cb(),d.eb(2,"h2",D),d.vb(3," Acceso denegado "),d.cb(),d.eb(4,"h4",S),d.vb(5," Lo sentimos, esta p\xe1gina no se encuentra disponible. "),d.cb(),d.cb())},encapsulation:2});const M=[r.d.forChild([{path:"",component:Y},{path:"**",redirectTo:""}])];class T{}T.ngInjectorDef=d.I({factory:function(){return new T},providers:void 0,imports:[M,[r.d]]});class O{}O.ngInjectorDef=d.I({factory:function(){return new O},providers:void 0,imports:[[o.b,T]]});const j=[r.d.forChild([{path:"solicitudInicial",loadChildren:()=>I},{path:"cam",loadChildren:()=>n.e(7).then(n.bind(null,"SbaW")).then(e=>e.CamModule),data:{producto:"CAM"}},{path:"tma",loadChildren:()=>n.e(10).then(n.bind(null,"Gbyn")).then(e=>e.TmaModule),data:{producto:"TMA"}},{path:"forbidden",loadChildren:()=>O},{path:"**",redirectTo:"forbidden"}])];class A{}A.ngInjectorDef=d.I({factory:function(){return new A},providers:void 0,imports:[j,[r.d]]}),n.d(t,"BaseModule",function(){return q}),n.d(t,"\u02750",function(){return B}),n.d(t,"\u02751",function(){return J}),n.d(t,"\u02752",function(){return R});const B=[o.b,A],J=[],R=[a.a,c.a,s.a];class q{}q.ngInjectorDef=d.I({factory:function(){return new q},providers:R,imports:[B,J]})}}]);